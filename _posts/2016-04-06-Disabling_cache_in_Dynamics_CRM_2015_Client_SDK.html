---
layout: post
title:  "Disabling cache in Dynamics CRM 2015 Client SDK"
date:   2016-04-06 23:40:00 +0200
categories: crm code
excerpt_separator: <!--more-->
---
When utilizing Dynamics CRM 2015 Client SDK I have encountered a problem where <div class="vstype">CrmOrganizationServiceContext</div> would always return some old, cached data from given set, until addition of a new item to this set using Client SDK, thus disallowing discovery of changes made by CRM team directly.

For example: Using Client SDK I wanted to download a list of Incidents from IncidentSet. Once downloaded, the following calls to IncidentSet would return the same data every request, even if some incident details were changed in CRM Portal. After a while of searching the interwebz <strong>it turns out you can disable the cache using .TryAccessCache() extension method.</strong>

{% highlight csharp %}
CrmConnection connection = CrmConnection.Parse(connectionString);
CrmOrganizationServiceContext org = new CrmOrganizationServiceContext(connection);
org.TryAccessCache(x => x.Mode = OrganizationServiceCacheMode.Disabled);
{% endhighlight %}
